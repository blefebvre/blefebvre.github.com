<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: debugging | Bruce Lefebvre]]></title>
  <link href="http://brucelefebvre.com/blog/categories/debugging/atom.xml" rel="self"/>
  <link href="http://brucelefebvre.com/"/>
  <updated>2017-06-22T21:05:45-04:00</updated>
  <id>http://brucelefebvre.com/</id>
  <author>
    <name><![CDATA[Bruce Lefebvre]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Debugging an AEM App]]></title>
    <link href="http://brucelefebvre.com/blog/2015/10/14/debugging-an-aem-app/"/>
    <updated>2015-10-14T11:20:00-04:00</updated>
    <id>http://brucelefebvre.com/blog/2015/10/14/debugging-an-aem-app</id>
    <content type="html"><![CDATA[<p>Does your AEM App get stuck at a blank screen when you run it via the Cordova CLI?</p>

<p><img src="/images/debug-apps/app_init_fail.png" title="'Failure to initialize'" ></p>

<p>The following steps will help you get to the root of the error on both iOS and Android.</p>

<!-- more -->


<h2>iOS</h2>

<p>These steps assume you have a functional Cordova build toolchain (including Xcode and the iOS Simulator), and are able to run <code>cordova platform add ios &amp;&amp; cordova emulate ios</code> without any CLI related errors.</p>

<h4>Enable Develop menu in Safari</h4>

<p>From Safari's menu, open "Preferences...", and navigate to the "Advanced" tab.</p>

<p>Make sure the checkbox labeled "Show develop menu in menu bar" is checked:</p>

<p><img src="/images/debug-apps/dev.png" title="'Develop mode checkbox'" ></p>

<h4>Connect the web inspector to your broken app</h4>

<p>From the freshly enabled Develop menu, initiate a connection to your app running on the iOS Simulator (I'll be using the <a href="https://github.com/blefebvre/aem-phonegap-kitchen-sink">kitchen-sink</a> app for this post):</p>

<p><img src="/images/debug-apps/develop_menu.png" title="'Develop mode checkbox'" ></p>

<p>You will be greeted by a new Web Inspector Safari window that is connected to the AEM App running on your iOS Simulator.</p>

<h4>Refresh to see initialization errors</h4>

<p>Navigate to the Console tab. You shouldn't see any errors, aside from perhaps Safari attempting to load source maps that have not been provided. In order to see any errors which occurred during the initialization of the app, you will need to refresh the app. Locate the 'Reload page' button and give it a click (or: hit ⌘ + R on your keyboard):</p>

<p><img src="/images/debug-apps/reload_app.png" title="'Reload app'" ></p>

<p>You should now see a few lines of debug logging, along with an error!</p>

<p><img src="/images/debug-apps/console_output.png" title="'Console output'" ></p>

<p>In my case it appears that the ContentSync variable is missing. This variable is exported by the PhoneGap ContentSync plugin, so I would begin my bug investigation by seeing if this plugin has been successfully installed.</p>

<p>If this issue is occurring on an app obtained from an open source repo, the console output is extremely valuable and should be included in your bug report.</p>

<h2>Android</h2>

<p>Like above, ensure that you are able to run <code>cordova platform add android &amp;&amp; cordova emulate android</code> without any CLI related errors before continuing.</p>

<h4>Connect Chrome's web inspector to the app</h4>

<p>In Chrome, navigate to <a href="chrome://inspect">chrome://inspect</a>, and locate your app's WebView. Click the blue "inspect" link to open the remote web inspector connected to your Android emulator.</p>

<p><img src="/images/debug-apps/chrome_inspect.png" title="'Chrome inspect'" ></p>

<h4>Refresh to view initialization errors</h4>

<p>Open the console tab and hit ⌘ + R on OS X, or Ctrl + R on Windows to refresh the current page of the application. In the screenshot below, I don't have any errors in the console but I can still view the output of console.log statements in my code, such as navigation between pages:</p>

<p><img src="/images/debug-apps/chrome_console.png" title="'Remote app Web Inspector console'" ></p>

<p>Happy debugging!</p>
]]></content>
  </entry>
  
</feed>
